# RALPH Progress Log

This file tracks learnings and progress across iterations.
Each Claude session should append its findings here.

---

## Iteration 2026-01-11 (first iteration)
- Completed: Story 1 - Create hello world script
- Steps verified:
  - [x] hello.sh file exists
  - [x] Script is executable (chmod +x)
  - [x] Running ./hello.sh prints 'Hello, RALPH!'
- Learned: Basic bash script structure with shebang (#!/bin/bash) and echo command
- Files changed: hello.sh (created), prd.json (updated passes/passed status)
- Notes: Simple hello world implementation. Script just echoes the required greeting.

## Iteration 2026-01-11 (second iteration)
- Completed: Story 2 - Add greeting function
- Steps verified:
  - [x] greet() function exists in hello.sh
  - [x] greet 'World' outputs 'Hello, World!'
  - [x] greet 'Alice' outputs 'Hello, Alice!'
- Learned: Bash functions use `local` for local variables, parameter accessed via $1. Source the script to make functions available in current shell for testing.
- Files changed: hello.sh (added greet function), prd.json (updated story 2 status)
- Notes: Added greet() function that takes a name parameter and outputs "Hello, {name}!". The original "Hello, RALPH!" echo is preserved at the end of the script.

## Iteration 2026-01-11 (third iteration)
- Completed: Story 3 - Add timestamp to greeting
- Steps verified:
  - [x] greet function includes timestamp in output
  - [x] Timestamp format is human-readable
  - [x] Running greet 'Test' shows current time
- Learned: Use bash `date` command with format string for human-readable timestamps. Format `"+%Y-%m-%d %H:%M:%S"` gives ISO-style dates. Use command substitution `$(...)` to capture output into a variable.
- Files changed: hello.sh (modified greet function), prd.json (updated story 3 status)
- Notes: Modified greet() to include timestamp in format `Hello, {name}! [YYYY-MM-DD HH:MM:SS]`. Used local variable for timestamp to keep it clean.

## Iteration 2026-01-11 (fourth iteration)
- Completed: Story 4 - Add farewell function
- Steps verified:
  - [x] farewell() function exists in hello.sh
  - [x] farewell 'World' outputs 'Goodbye, World! See you soon.'
  - [x] farewell 'Alice' outputs 'Goodbye, Alice! See you soon.'
- Learned: Following the existing pattern from greet() made implementation straightforward. The farewell function doesn't need a timestamp (per the requirements), keeping it simpler than greet.
- Files changed: hello.sh (added farewell function), prd.json (updated story 4 status)
- Notes: Added farewell() function that takes a name parameter and outputs "Goodbye, {name}! See you soon." Note that when sourcing the script to test functions, the "Hello, RALPH!" line at the end also executes.

## Iteration 2026-01-11 (fifth iteration)
- Completed: Story 5 - Add color support
- Steps verified:
  - [x] greet output is green when run in terminal
  - [x] farewell output is yellow when run in terminal
  - [x] Running with --no-color flag disables colors
- Learned: ANSI escape codes for colors (green=\033[0;32m, yellow=\033[0;33m, reset=\033[0m). Use `echo -e` to interpret escape sequences. The NO_COLOR variable can be set via environment export or by passing --no-color when sourcing the script.
- Files changed: hello.sh (added color support), prd.json (updated story 5 status)
- Notes: Added GREEN, YELLOW, and RESET color constants. Added NO_COLOR variable with argument parsing for --no-color flag. Modified greet() to output in green and farewell() to output in yellow, with conditional logic to disable colors when NO_COLOR=true.

## Iteration 2026-01-11 (sixth iteration)
- Completed: Story 6 - Add help command
- Steps verified:
  - [x] Running ./hello.sh --help displays usage information
  - [x] Help text lists greet and farewell functions
  - [x] Help text mentions --no-color flag
- Learned: Added a show_help() function to display usage info. Extended the existing argument parsing loop to check for --help flag in addition to --no-color. Used `exit 0` after displaying help to prevent the default "Hello, RALPH!" from also being printed.
- Files changed: hello.sh (added show_help function and --help argument handling), prd.json (updated story 6 status)
- Notes: The help includes usage syntax, options list, available functions (greet/farewell with descriptions), and practical examples showing how to source the script for function usage.

## Iteration 2026-01-11 (seventh iteration)
- Completed: Story 7 - Add logging to file
- Steps verified:
  - [x] Running greet with --log creates/appends to hello.log
  - [x] Log entries include timestamp and message
  - [x] farewell with --log also logs to hello.log
- Learned: Added a LOG_ENABLED variable (default false) and LOG_FILE constant ("hello.log"). Extended the argument parsing loop to check for --log flag. Created a log_message() helper function that appends timestamped entries to the log file using >> redirection. Updated both greet() and farewell() functions to call log_message() when LOG_ENABLED is true.
- Files changed: hello.sh (added logging support), prd.json (updated story 7 status)
- Notes: Log format is "[YYYY-MM-DD HH:MM:SS] GREET/FAREWELL: message". The log file is appended to (not overwritten), so multiple runs accumulate entries. Also updated show_help() to document the new --log flag.

## Iteration 2026-01-11 (eighth iteration)
- Completed: Story 8 - Add count flag
- Steps verified:
  - [x] greet 'World' --count 3 outputs the greeting 3 times
  - [x] farewell 'World' --count 2 outputs the farewell 2 times
  - [x] Default count is 1 when flag is not provided
- Learned: Added per-function argument parsing using a while loop with case statement to handle `--count N`. Used `shift` to capture the first positional argument (name) and then parse remaining arguments. Implemented repetition using a bash C-style for loop: `for ((i=1; i<=count; i++))`. Set default count to 1 so existing behavior is preserved when flag is not provided.
- Files changed: hello.sh (added --count flag to greet and farewell), prd.json (updated story 8 status)
- Notes: The --count flag is parsed at the function level (not globally), so each function call can have its own count. Updated show_help() to document the new function option.

## Iteration 2026-01-11 (ninth iteration)
- Completed: Story 9 - Add uppercase flag
- Steps verified:
  - [x] greet 'World' --uppercase outputs 'HELLO, WORLD!'
  - [x] farewell 'World' --uppercase outputs 'GOODBYE, WORLD! SEE YOU SOON.'
  - [x] Flag works combined with other flags like --no-color
- Learned: macOS ships with bash 3.2 by default, which doesn't support the `${var^^}` syntax for uppercase conversion. Use `tr '[:lower:]' '[:upper:]'` instead for broader compatibility. The --uppercase flag is parsed at the function level like --count.
- Files changed: hello.sh (added --uppercase flag to greet and farewell), prd.json (updated story 9 status)
- Notes: Added local `uppercase` variable to both functions, used `tr` for case conversion. Updated show_help() to document the new function option. The flag can be combined with --count and --no-color.

## Iteration 2026-01-11 (tenth iteration)
- Completed: Story 10 - Add version flag
- Steps verified:
  - [x] Running ./hello.sh --version displays 'hello.sh version 1.0.0'
  - [x] Version flag exits immediately without running other commands
  - [x] Help text mentions --version flag
- Learned: Following the established pattern from --help flag made implementation straightforward. Added a VERSION constant at the top of the script for easy maintenance. The `exit 0` ensures the script exits cleanly before reaching the default "Hello, RALPH!" output.
- Files changed: hello.sh (added VERSION constant, --version flag handler, updated show_help), prd.json (updated story 10 status)
- Notes: The --version flag is handled in the same argument parsing loop as --help and --no-color. Version string is stored in a constant to make future updates easier.

## Iteration 2026-01-11 (eleventh iteration)
- Completed: Story 11 - Add random greeting mode
- Steps verified:
  - [x] greet 'World' --random outputs one of: 'Hello, World!', 'Hi, World!', 'Hey, World!', or 'Greetings, World!'
  - [x] Running multiple times with --random produces varied output
  - [x] Help text documents the --random flag
- Learned: Used bash `$RANDOM` variable with modulo 4 to select from an array of greeting styles. The `$RANDOM` variable provides a pseudo-random integer between 0 and 32767, and array indexing with `${greetings[$RANDOM % 4]}` gives even distribution across the four options.
- Files changed: hello.sh (added --random flag to greet function, updated show_help), prd.json (updated story 11 status)
- Notes: The --random flag only affects the greet function (not farewell) as per the requirements. The flag is parsed at the function level like --count and --uppercase. Testing confirmed all four greeting styles appear with roughly equal frequency.

## Iteration 2026-01-11 (twelfth iteration)
- Completed: Story 12 - Add quiet mode
- Steps verified:
  - [x] greet 'World' --quiet outputs greeting without timestamp
  - [x] farewell 'World' --quiet outputs farewell without timestamp
  - [x] Help text documents the --quiet flag
- Learned: The --quiet flag follows the same pattern as other function-level flags (--count, --uppercase, --random). The greet function normally includes a timestamp `[YYYY-MM-DD HH:MM:SS]` which is now conditionally omitted when --quiet is true. The farewell function already didn't include a timestamp, but the flag is added for consistency and future-proofing.
- Files changed: hello.sh (added --quiet flag to greet and farewell, updated show_help), prd.json (updated story 12 status)
- Notes: Implementation was straightforward following established patterns. Used a conditional to build the message string with or without timestamp based on the quiet flag value.

